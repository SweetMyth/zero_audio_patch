<?xml version="1.0" encoding="UTF-8" standalone="yes"?>
<audioPolicyConfiguration version="1.0" xmlns:xi="http://www.w3.org/2001/XInclude">
<!-- Zero Audio Patch by vlad113 -->
<modules>
	<module name="primary" halVersion="2.0">
		<devicePorts>
			<!-- Output -->
			<devicePort tagName="Earpiece" type="AUDIO_DEVICE_OUT_EARPIECE" role="sink"> </devicePort>
			<devicePort tagName="Speaker" type="AUDIO_DEVICE_OUT_SPEAKER" role="sink" address=""> </devicePort>
			<devicePort tagName="Wired Headset" type="AUDIO_DEVICE_OUT_WIRED_HEADSET" role="sink"> </devicePort>
			<devicePort tagName="Wired Headphones" type="AUDIO_DEVICE_OUT_WIRED_HEADPHONE" role="sink"> </devicePort>
			<devicePort tagName="Line" type="AUDIO_DEVICE_OUT_LINE" role="sink"> </devicePort>
			<devicePort tagName="BT SCO" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO" role="sink"> </devicePort>
			<devicePort tagName="BT SCO Headset" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_HEADSET" role="sink"> </devicePort>
			<devicePort tagName="BT SCO Car Kit" type="AUDIO_DEVICE_OUT_BLUETOOTH_SCO_CARKIT" role="sink"> </devicePort>
			<devicePort tagName="BT SCO All" type="AUDIO_DEVICE_OUT_ALL_SCO" role="sink"> </devicePort>
			<devicePort tagName="Telephony Tx" type="AUDIO_DEVICE_OUT_TELEPHONY_TX" role="sink"> </devicePort>
			<devicePort tagName="HDMI" type="AUDIO_DEVICE_OUT_AUX_DIGITAL" role="sink"> </devicePort>
			<devicePort tagName="Proxy" type="AUDIO_DEVICE_OUT_PROXY" role="sink"> </devicePort>
			<devicePort tagName="FM" type="AUDIO_DEVICE_OUT_FM" role="sink"> </devicePort>
			<!-- Input -->
			<devicePort tagName="Built-In Mic" type="AUDIO_DEVICE_IN_BUILTIN_MIC" role="source"> </devicePort>
			<devicePort tagName="Built-In Back Mic" type="AUDIO_DEVICE_IN_BACK_MIC" role="source"> </devicePort>
			<devicePort tagName="FM Tuner" type="AUDIO_DEVICE_IN_FM_TUNER" role="source"> </devicePort>
			<devicePort tagName="Wired Headset Mic" type="AUDIO_DEVICE_IN_WIRED_HEADSET" role="source"> </devicePort>
			<devicePort tagName="BT SCO Headset Mic" type="AUDIO_DEVICE_IN_BLUETOOTH_SCO_HEADSET" role="source"> </devicePort>
			<devicePort tagName="Telephony Rx" type="AUDIO_DEVICE_IN_TELEPHONY_RX" role="source"> </devicePort>
		</devicePorts>
		<attachedDevices>
			<item>Earpiece</item>
			<item>Speaker</item>
			<item>Telephony Tx</item>
			<item>Built-In Mic</item>
			<item>Built-In Back Mic</item>
			<item>FM Tuner</item>
			<item>Telephony Rx</item>
		</attachedDevices>
		<defaultOutputDevice>Speaker</defaultOutputDevice>
		<mixPorts>
			<!-- Output -->
			<mixPort name="primary" flags="AUDIO_OUTPUT_FLAG_PRIMARY" role="source">
				<profile name="" samplingRates="44100" 
				format="AUDIO_FORMAT_PCM_16_BIT" channelMasks="AUDIO_CHANNEL_OUT_STEREO"/>
			</mixPort> 
			<mixPort name="deep-buff" flags="AUDIO_OUTPUT_FLAG_DEEP_BUFFER" role="source">
				<profile name="" samplingRates="44100"
				format="AUDIO_FORMAT_PCM_16_BIT" channelMasks="AUDIO_CHANNEL_OUT_STEREO" />
			</mixPort>
			<mixPort name="direct_pcm" flags="AUDIO_OUTPUT_FLAG_DIRECT" role="source">
				<profile name="" samplingRates="44100,48000,96000,192000"
				format="AUDIO_FORMAT_PCM_24_BIT_PACKED" channelMasks="AUDIO_CHANNEL_OUT_MONO,AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_2POINT1,AUDIO_CHANNEL_OUT_QUAD,AUDIO_CHANNEL_OUT_PENTA,AUDIO_CHANNEL_OUT_5POINT1,AUDIO_CHANNEL_OUT_6POINT1,AUDIO_CHANNEL_OUT_7POINT1"/>
			</mixPort>
			<mixPort name="offload" flags="AUDIO_OUTPUT_FLAG_DIRECT|AUDIO_OUTPUT_FLAG_COMPRESS_OFFLOAD|AUDIO_OUTPUT_FLAG_NON_BLOCKING" role="source">
				<profile name="" samplingRates="44100,48000"
				format="AUDIO_FORMAT_MP3" channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_MONO"/>
				<profile name="" samplingRates="44100,48000,96000"
				format="AUDIO_FORMAT_AAC_LC" channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_MONO"/>
				<profile name="" samplingRates="44100,48000,96000"
				format="AUDIO_FORMAT_AAC_HE_V1" channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_MONO"/>
				<profile name="" samplingRates="44100,48000"
				format="AUDIO_FORMAT_AAC_HE_V2" channelMasks="AUDIO_CHANNEL_OUT_STEREO,AUDIO_CHANNEL_OUT_MONO"/>
			</mixPort>
			<!-- Input -->
			<mixPort name="primary input" role="sink">
				<profile name="" samplingRates="8000,11025,12000,16000,22050,24000,32000,44100,48000" 
				format="AUDIO_FORMAT_PCM_16_BIT" channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO,AUDIO_CHANNEL_IN_FRONT_BACK"/>
			</mixPort>
			<mixPort name="surround_sound" role="sink">
				<profile name="" samplingRates="8000,11025,12000,16000,22050,24000,32000,44100,48000" 
				format="AUDIO_FORMAT_PCM_16_BIT" channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO,AUDIO_CHANNEL_IN_FRONT_BACK,AUDIO_CHANNEL_INDEX_MASK_3,AUDIO_CHANNEL_INDEX_MASK_4,AUDIO_CHANNEL_IN_5POINT1,AUDIO_CHANNEL_INDEX_MASK_6"/>
			</mixPort>
			<mixPort name="record_24" role="sink">
				<profile name="" samplingRates="8000,11025,12000,16000,22050,24000,32000,44100,48000,96000,192000" 
				format="AUDIO_FORMAT_PCM_24_BIT_PACKED" channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO,AUDIO_CHANNEL_IN_FRONT_BACK,AUDIO_CHANNEL_INDEX_MASK_3,AUDIO_CHANNEL_INDEX_MASK_4"/>
				<profile name="" samplingRates="8000,11025,12000,16000,22050,24000,32000,44100,48000,96000,192000" 
				format="AUDIO_FORMAT_PCM_8_24_BIT" channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO,AUDIO_CHANNEL_IN_FRONT_BACK,AUDIO_CHANNEL_INDEX_MASK_3,AUDIO_CHANNEL_INDEX_MASK_4"/>
				<profile name="" samplingRates="8000,11025,12000,16000,22050,24000,32000,44100,48000,96000,192000" 
				format="AUDIO_FORMAT_PCM_FLOAT" channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO,AUDIO_CHANNEL_IN_FRONT_BACK,AUDIO_CHANNEL_INDEX_MASK_3,AUDIO_CHANNEL_INDEX_MASK_4"/>
			</mixPort>
			<mixPort name="voice_rx" role="sink">
				<profile name="" samplingRates="8000,16000,48000" 
				format="AUDIO_FORMAT_PCM_16_BIT" channelMasks="AUDIO_CHANNEL_IN_MONO,AUDIO_CHANNEL_IN_STEREO"/>
			</mixPort>
		</mixPorts>
		<routes>
			<!-- Output -->
			 <route type="mux" sink="Earpiece" sources="primary,deep-buff,direct_pcm,offload"/>
			 <route type="mux" sink="Speaker" sources="primary,deep-buff,direct_pcm,offload"/>
			 <route type="mux" sink="Wired Headset" sources="primary,deep-buff,direct_pcm,offload"/>
			 <route type="mux" sink="Wired Headphones" sources="primary,deep-buff,offload"/>
			 <route type="mux" sink="Line" sources="primary,deep-buff,direct_pcm,offload"/>
			 <route type="mux" sink="BT SCO All" sources="primary,deep-buff,direct_pcm,offload"/>
			 <route type="mux" sink="Telephony Tx" sources="primary,deep-buff,direct_pcm,offload"/>
			 <route type="mux" sink="HDMI" sources="primary,deep-buff,direct_pcm,offload"/>
			 <route type="mux" sink="Proxy" sources="primary,deep-buff,direct_pcm,offload"/>
			 <route type="mux" sink="FM" sources="primary,deep-buff,direct_pcm,offload"/>
			 <!-- Headphones direct_pcm exclusive -->
			 <route type="mux" sink="Wired Headphones" sources="direct_pcm"/>
			<!-- Input -->
			 <route type="mux" sink="primary input" sources="Built-In Mic,Wired Headset Mic,BT SCO Headset Mic,FM Tuner,Telephony Rx"/>
			 <route type="mux" sink="surround_sound" sources="Built-In Mic,Built-In Back Mic"/>
			 <route type="mux" sink="record_24" sources="Built-In Mic,Built-In Back Mic,Wired Headset Mic"/>
			 <route type="mux" sink="voice_rx" sources="Telephony Rx"/>
		</routes>
	</module>
	<xi:include href="/vendor/etc/a2dp_audio_policy_configuration.xml"/>
	<xi:include href="/vendor/etc/usb_audio_policy_configuration.xml"/>
	<xi:include href="/vendor/etc/r_submix_audio_policy_configuration.xml"/>
</modules>
	<xi:include href="/vendor/etc/audio_policy_volumes.xml"/>
	<xi:include href="/vendor/etc/default_volume_tables.xml"/>
</audioPolicyConfiguration>